# Production Environment Variables for Simplicity
# Copy this file and customize for your deployment

# ============================================================================
# Application Configuration
# ============================================================================

# HTTP server port
PORT=3000

# Database path (use absolute path for production)
DB_PATH=/var/lib/simplicity/simplicity.db

# ============================================================================
# Security Configuration
# ============================================================================

# Enable HSTS (Strict Transport Security) - ONLY with HTTPS
# Set to true if using HTTPS (Cloudflare, reverse proxy, etc.)
# Set to false if using plain HTTP
ENABLE_HSTS=true

# Session secret (generate with: openssl rand -base64 32)
# CHANGE THIS IN PRODUCTION
SESSION_SECRET=your-secret-key-here-change-in-production

# ============================================================================
# Logging Configuration
# ============================================================================

# Log level: DEBUG | INFO | WARN | ERROR
# Use WARN or ERROR in production for performance
LOG_LEVEL=WARN

# Log directory (logs will be written to this directory)
LOG_PATH=/var/log/simplicity

# ============================================================================
# JVM Configuration
# ============================================================================

# JVM options for performance tuning
# Adjust heap size based on your server resources
JAVA_OPTS=-Xmx512m -Xms256m -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# ============================================================================
# Deployment Information (optional, for monitoring)
# ============================================================================

# Deployment environment identifier
ENVIRONMENT=production

# Application version (updated during deployment)
APP_VERSION=1.0.0

# ============================================================================
# Cloudflare Configuration (if using Cloudflare proxy)
# ============================================================================

# Trust Cloudflare proxy headers
# This allows the app to see real client IP addresses
TRUST_PROXY=true

# ============================================================================
# Database Configuration
# ============================================================================

# SQLite database tuning (optional)
# Adjust for performance vs. safety tradeoff

# WAL mode for better concurrency (recommended)
SQLITE_JOURNAL_MODE=WAL

# Synchronous mode (FULL=safest, NORMAL=balanced, OFF=fastest)
SQLITE_SYNCHRONOUS=NORMAL

# ============================================================================
# Rate Limiting Configuration (optional overrides)
# ============================================================================

# Login rate limit (requests per minute per IP)
# Default: 5
# RATE_LIMIT_LOGIN=5

# Signup rate limit (requests per minute per IP)
# Default: 3
# RATE_LIMIT_SIGNUP=3

# ============================================================================
# Example: Production Settings for VPS Deployment
# ============================================================================
# PORT=3000
# DB_PATH=/var/lib/simplicity/simplicity.db
# ENABLE_HSTS=true
# SESSION_SECRET=$(openssl rand -base64 32)
# LOG_LEVEL=WARN
# LOG_PATH=/var/log/simplicity
# JAVA_OPTS=-Xmx1g -Xms512m -XX:+UseG1GC
# ENVIRONMENT=production

# ============================================================================
# Example: Development/Staging Settings
# ============================================================================
# PORT=3000
# DB_PATH=./simplicity-dev.db
# ENABLE_HSTS=false
# LOG_LEVEL=DEBUG
# LOG_PATH=./logs
# JAVA_OPTS=-Xmx256m -Xms128m
# ENVIRONMENT=development

# ============================================================================
# Notes
# ============================================================================
# 1. Never commit this file with real secrets to version control
# 2. Use a secrets management system for sensitive values in production
# 3. Rotate SESSION_SECRET periodically
# 4. Enable HSTS only when using HTTPS
# 5. Adjust JVM heap sizes based on available server memory
# 6. Use WAL mode for SQLite in production for better performance
# 7. Set LOG_LEVEL to WARN or ERROR in production to reduce I/O
