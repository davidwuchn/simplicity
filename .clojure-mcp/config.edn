{;; Clojure MCP Configuration for Simplicity Polylith Workspace
 ;; This configuration defines security boundaries and tool behavior for AI assistance
 
 ;; Allowed directories for file operations
 ;; The MCP server will only allow reading/writing files within these paths
 :allowed-directories ["."
                       "components"
                       "bases"
                       "projects"
                       "development"
                       "config"
                       "docs"
                       "scripts"
                       "notebooks"
                       "tests"
                       "examples"
                       ".github"
                       "terraform"
                       ".eca"]
 
 ;; Write file guard - require partial read before writing
 ;; This prevents accidental overwrites of files that have been modified externally
 :write-file-guard :partial-read
 
 ;; Enable cljfmt for automatic code formatting
 ;; All Clojure files will be formatted according to project standards
 :cljfmt true
 
 ;; Bash execution mode
 ;; When false, bash commands run locally (recommended for development)
 ;; When true, bash commands run over nREPL (useful for remote development)
 :bash-over-nrepl false
 
 ;; Scratch pad persistence
 ;; Enable file-based persistence for session state and planning
 ;; Data will survive server restarts when enabled
 :scratch-pad {:persist true
               :file ".clojure-mcp/scratch-pad.edn"}
 
 ;; Tool configuration
 ;; Customize individual tool behavior
 :tools {:clojure_eval {:timeout-ms 30000}  ;; 30 second timeout for REPL evaluation
         :bash {:timeout-ms 60000}}          ;; 60 second timeout for shell commands
 
 ;; Security settings
 ;; Additional constraints for production use
 :security {:max-file-size-mb 10             ;; Maximum file size for read/write operations
            :require-confirmation [:bash]}}   ;; Tools that require user confirmation
